---
layout:     post
title:      Java线程池实现原理与使用相关问题
subtitle:    "\"Java thread pool\""
date:       2019-11-07
author:     Jimmy
header-img: img/post-bg-2015.jpg
catalog: true
tags:
    - java
    - Thread pool
---

> “🙉🙉🙉 ”

## 为什么要使用线程池

- 线程池优点
> 1. 避免线程的创建和销毁带来的性能开销
> 1. 避免大量的线程间因相互抢占资源而导致的阻塞现象
> 1. 能够对线程进行简单的管理，提供线程间隔执行、定时执行的功能

## 线程池实现原理

四种线程池类型

> 1. newCachedThreadPool是一个可根据需要创建新线程的线程池，但是在以前构造的线程可用时将重用它们。对于执行很多短期异步任务的程序而言，这些线程池通常可提高程序性能。调用 execute() 将重用以前构造的线程（如果线程可用）。如果现有线程没有可用的，则创建一个新线程并添加到池中。终止并从缓存中移除那些已有 60 秒钟未被使用的线程。因此，长时间保持空闲的线程池不会使用任何资源。注意，可以使用 ThreadPoolExecutor 构造方法创建具有类似属性但细节不同（例如超时参数）的线程池。

> 1. newSingleThreadExecutor创建是一个单线程池，也就是该线程池只有一个线程在工作，所有的任务是串行执行的，如果这个唯一的线程因为异常结束，那么会有一个新的线程来替代它，此线程池保证所有任务的执行顺序按照任务的提交顺序执行。

> 1. newFixedThreadPool创建固定大小的线程池，每次提交一个任务就创建一个线程，直到线程达到线程池的最大大小，线程池的大小一旦达到最大值就会保持不变，如果某个线程因为执行异常而结束，那么线程池会补充一个新线程。

> 1. newScheduledThreadPool创建一个大小无限的线程池，此线程池支持定时以及周期性执行任务的需求。


## 线程池创建的几个核心构造函数

